---

version: "2.4"
services:

  ir01:
    image: ${IR_IMAGE}:${IR_VERSION}
    container_name: m01.localtest.nspcc.ru
    networks:
      ir_int:
      internet:
        ipv4_address: ${IPV4_PREFIX}.61
    stop_signal: SIGKILL
    volumes: [ "./01.key:/01.key" ]
    env_file: [ ".env", ".ir.env" ]
    environment:
    - NEOFS_IR_KEY=/01.key


  ir02:
    image: ${IR_IMAGE}:${IR_VERSION}
    container_name: m02.localtest.nspcc.ru
    networks:
      ir_int:
      internet:
        ipv4_address: ${IPV4_PREFIX}.62
    stop_signal: SIGKILL
    volumes: [ "./02.key:/02.key" ]
    env_file: [ ".env", ".ir.env" ]
    environment:
    - NEOFS_IR_KEY=/02.key

  ir03:
    image: ${IR_IMAGE}:${IR_VERSION}
    container_name: m03.localtest.nspcc.ru
    networks:
      ir_int:
      internet:
        ipv4_address: ${IPV4_PREFIX}.63
    stop_signal: SIGKILL
    volumes: [ "./03.key:/03.key" ]
    env_file: [ ".env", ".ir.env" ]
    environment:
    - NEOFS_IR_KEY=/03.key

  ir04:
    image: ${IR_IMAGE}:${IR_VERSION}
    container_name: m04.localtest.nspcc.ru
    networks:
      ir_int:
      internet:
        ipv4_address: ${IPV4_PREFIX}.64
    stop_signal: SIGKILL
    volumes: [ "./04.key:/04.key" ]
    env_file: [ ".env", ".ir.env" ]
    environment:
    - NEOFS_IR_KEY=/04.key

networks:
  ir_int:
  internet:
    external:
      name: basenet_internet
